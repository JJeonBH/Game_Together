# DB 삭제/생성/사용
DROP DATABASE IF EXISTS GT;
CREATE DATABASE GT;
USE GT;

# member 테이블 생성
CREATE TABLE `member`(
	id INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	regDate DATETIME NOT NULL,
	updateDate DATETIME NOT NULL,
	loginId VARCHAR(20) NOT NULL UNIQUE,
	loginPw VARCHAR(100) NOT NULL,
	`authLevel` SMALLINT UNSIGNED NOT NULL DEFAULT 3 COMMENT '권한 레벨 (일반 = 3, 관리자 = 7)',
	`name` VARCHAR(20) NOT NULL,
	nickname VARCHAR(20) NOT NULL,
    birthday VARCHAR(20) NOT NULL COMMENT '생년월일',
    gender VARCHAR(10) NOT NULL COMMENT '성별 (남자 = male, 여자 = female)',
	email VARCHAR(50),
	cellphoneNum VARCHAR(20) NOT NULL,
	delStatus TINYINT UNSIGNED NOT NULL DEFAULT 0 COMMENT '탈퇴여부 (탈퇴 전 = 0, 탈퇴 후 = 1)',
	delDate DATETIME COMMENT '탈퇴 날짜'
);

# article 테이블 생성
CREATE TABLE article(
    id INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
    regDate DATETIME NOT NULL,
    updateDate DATETIME NOT NULL,
    memberId INT UNSIGNED NOT NULL,
    boardId INT UNSIGNED NOT NULL,
    title VARCHAR(100) NOT NULL,
    `body` TEXT NOT NULL,
    viewCount INT UNSIGNED NOT NULL DEFAULT 0 
);

# board 테이블 생성
CREATE TABLE board(
    id INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
    regDate DATETIME NOT NULL,
    updateDate DATETIME NOT NULL,
    `type` VARCHAR(20) NOT NULL COMMENT 'lol(리그오브레전드), bg(배틀그라운드), ...',
    `code` VARCHAR(20) NOT NULL COMMENT 'notice(공지사항), free(자유), ...',
	`name` VARCHAR(20) NOT NULL COMMENT '게시판 이름',
	delStatus TINYINT UNSIGNED NOT NULL DEFAULT 0 COMMENT '삭제여부 (삭제 전 = 0, 삭제 후 = 1)',
	delDate DATETIME COMMENT '삭제 날짜'
);

# member 테스트 데이터
INSERT INTO `member`
SET regDate = NOW(),
updateDate = NOW(),
loginId = 'admin',
loginPw = SHA2('Wjsqudgh0@', 256),
`authLevel` = 7,
`name` = '전병호',
nickname = '관리자',
birthday = '19911010',
gender = 'male',
email = 'admin@naver.com',
cellphoneNum = '01011111111';

# member 테스트 데이터
INSERT INTO `member`
SET regDate = NOW(),
updateDate = NOW(),
loginId = 'test1',
loginPw = SHA2('Wjsqudgh1@', 256),
`name` = '홍길동',
nickname = '유저1',
birthday = '19921010',
gender = 'male',
email = 'test1@naver.com',
cellphoneNum = '01011121112';

# member 테스트 데이터
INSERT INTO `member`
SET regDate = NOW(),
updateDate = NOW(),
loginId = 'test2',
loginPw = SHA2('Wjsqudgh2@', 256),
`name` = '홍길순',
nickname = '유저2',
birthday = '19931010',
gender = 'female',
email = 'test2@naver.com',
cellphoneNum = '01011131113';

# article 테스트 데이터
INSERT INTO article
SET regDate = NOW(),
updateDate = NOW(),
memberId = 1,
boardId = 1,
title = '공지사항(필독)',
`body` = '공지사항입니다';

# article 테스트 데이터
INSERT INTO article
SET regDate = NOW(),
updateDate = NOW(),
memberId = 2,
boardId = 2,
title = '난 자유다',
`body` = '난 자유다!!';

# article 테스트 데이터
INSERT INTO article
SET regDate = NOW(),
updateDate = NOW(),
memberId = 2,
boardId = 3,
title = '비매너 유저 신고합니다',
`body` = '정지먹여주세요';

# board 테스트 데이터
INSERT INTO board
SET regDate = NOW(),
updateDate = NOW(),
`type` = 'lol',
`code` = 'notice',
`name` = '공지사항';

# board 테스트 데이터
INSERT INTO board
SET regDate = NOW(),
updateDate = NOW(),
`type` = 'lol',
`code` = 'free',
`name` = '자유 게시판';

# board 테스트 데이터
INSERT INTO board
SET regDate = NOW(),
updateDate = NOW(),
`type` = 'lol',
`code` = 'declaration',
`name` = '신고 게시판';

# 테이블 구조
DESC `member`;
DESC article;
DESC board;

# 테이블 조회
SELECT * FROM `member`;
SELECT * FROM article;
SELECT * FROM board;

SELECT LAST_INSERT_ID();